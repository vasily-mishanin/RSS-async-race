{"ast":null,"code":"var _jsxFileName = \"/Users/vasmish/Coding/rollingScopesRSS/async-race/RSS-async-race/src/components/GarageControls.tsx\",\n    _s = $RefreshSig$();\n\nimport classes from './GarageControls.module.css';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GarageControls = props => {\n  _s();\n\n  console.log('GarageControls');\n  console.log(props.updatingCar);\n  const [updatingCar, setUpdatingCar] = useState(props.updatingCar);\n  const [isRaceStarted, setIsRaceStarted] = useState(false);\n  console.log(updatingCar);\n  useEffect(() => {\n    console.log('USE EFFECT GarageControls');\n    setUpdatingCar(() => props.updatingCar);\n  }, [props.updatingCar]);\n  const createCarInputNameRef = useRef(null);\n  const createCarInputColorRef = useRef(null);\n  const createCarFormRef = useRef(null);\n  const updateCarInputNameRef = useRef(null);\n  const updateCarInputColorRef = useRef(null);\n\n  const handleCreateSubmit = e => {\n    var _createCarInputNameRe, _createCarInputColorR, _createCarFormRef$cur;\n\n    e.preventDefault();\n    console.log('onCreate');\n    console.log((_createCarInputNameRe = createCarInputNameRef.current) === null || _createCarInputNameRe === void 0 ? void 0 : _createCarInputNameRe.value, (_createCarInputColorR = createCarInputColorRef.current) === null || _createCarInputColorR === void 0 ? void 0 : _createCarInputColorR.value);\n    props.createCarHandler(createCarInputNameRef.current.value, createCarInputColorRef.current.value);\n    (_createCarFormRef$cur = createCarFormRef.current) === null || _createCarFormRef$cur === void 0 ? void 0 : _createCarFormRef$cur.reset();\n  };\n\n  const handleUpdateSubmit = e => {\n    e.preventDefault();\n    const updatedCar = {\n      id: props.updatingCar.id,\n      name: updateCarInputNameRef.current.value,\n      color: updateCarInputColorRef.current.value\n    };\n    props.updateCarHandler(updatedCar); //clear inputs\n\n    props.onUpdatingControlsChange({\n      id: -1,\n      name: '',\n      color: '#000000'\n    });\n    setUpdatingCar({\n      id: -1,\n      name: '',\n      color: '#000000'\n    });\n  };\n\n  const handleNameChange = e => {\n    props.onUpdatingControlsChange({ ...updatingCar,\n      name: updateCarInputNameRef.current.value\n    });\n    setUpdatingCar(prevCar => ({ ...prevCar,\n      name: updateCarInputNameRef.current.value\n    }));\n  };\n\n  const handleColorChange = e => {\n    props.onUpdatingControlsChange({ ...updatingCar,\n      color: updateCarInputColorRef.current.value\n    });\n    setUpdatingCar(prevCar => ({ ...prevCar,\n      color: updateCarInputColorRef.current.value\n    }));\n  };\n\n  const handleStart = () => {\n    setIsRaceStarted(true);\n    props.onStartRace();\n  };\n\n  const handleReset = () => {\n    setIsRaceStarted(false);\n    props.onResetRace();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.garageControls,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"create-car-form\",\n      onSubmit: handleCreateSubmit,\n      ref: createCarFormRef,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: createCarInputNameRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"color\",\n        ref: createCarInputColorRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"update-car-form\",\n      onSubmit: handleUpdateSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        disabled: props.updatingCar.id < 0 ? true : false,\n        type: \"text\",\n        ref: updateCarInputNameRef,\n        value: updatingCar.name,\n        onChange: handleNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        disabled: props.updatingCar.id < 0 ? true : false,\n        type: \"color\",\n        ref: updateCarInputColorRef,\n        value: updatingCar.color,\n        onChange: handleColorChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: props.updatingCar.id < 0 ? true : false,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStart,\n        disabled: isRaceStarted,\n        children: \"Race\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleReset,\n        disabled: !props.isRaceEnded,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: props.onGenerateCars,\n        children: \"Generate Cars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GarageControls, \"jYBNLfA5j5iVPkYUowSwaxxNijw=\");\n\n_c = GarageControls;\nexport default GarageControls;\n\nvar _c;\n\n$RefreshReg$(_c, \"GarageControls\");","map":{"version":3,"names":["classes","React","useEffect","useRef","useState","GarageControls","props","console","log","updatingCar","setUpdatingCar","isRaceStarted","setIsRaceStarted","createCarInputNameRef","createCarInputColorRef","createCarFormRef","updateCarInputNameRef","updateCarInputColorRef","handleCreateSubmit","e","preventDefault","current","value","createCarHandler","reset","handleUpdateSubmit","updatedCar","id","name","color","updateCarHandler","onUpdatingControlsChange","handleNameChange","prevCar","handleColorChange","handleStart","onStartRace","handleReset","onResetRace","garageControls","isRaceEnded","onGenerateCars"],"sources":["/Users/vasmish/Coding/rollingScopesRSS/async-race/RSS-async-race/src/components/GarageControls.tsx"],"sourcesContent":["import classes from './GarageControls.module.css';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Car from '../model/Car';\n//import { ControlsContext } from '../store/controls-context';\n\ninterface IGarageControlsProps {\n  updatingCar: Car;\n  createCarHandler: (name: string, color: string) => void;\n  updateCarHandler: (car: Car) => void;\n  onGenerateCars: () => void;\n  onUpdatingControlsChange: (car: Car) => void;\n  onStartRace: () => void;\n  onResetRace: () => void;\n  isRaceEnded: boolean;\n}\n\nconst GarageControls: React.FC<IGarageControlsProps> = (props) => {\n  console.log('GarageControls');\n  console.log(props.updatingCar);\n  const [updatingCar, setUpdatingCar] = useState<Car>(props.updatingCar);\n  const [isRaceStarted, setIsRaceStarted] = useState(false);\n  console.log(updatingCar);\n\n  useEffect(() => {\n    console.log('USE EFFECT GarageControls');\n    setUpdatingCar(() => props.updatingCar);\n  }, [props.updatingCar]);\n\n  const createCarInputNameRef = useRef<HTMLInputElement>(null);\n  const createCarInputColorRef = useRef<HTMLInputElement>(null);\n  const createCarFormRef = useRef<HTMLFormElement>(null);\n\n  const updateCarInputNameRef = useRef<HTMLInputElement>(null);\n  const updateCarInputColorRef = useRef<HTMLInputElement>(null);\n\n  const handleCreateSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    console.log('onCreate');\n    console.log(createCarInputNameRef.current?.value, createCarInputColorRef.current?.value);\n    props.createCarHandler(createCarInputNameRef.current!.value, createCarInputColorRef.current!.value);\n    createCarFormRef.current?.reset();\n  };\n\n  const handleUpdateSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const updatedCar = {\n      id: props.updatingCar!.id,\n      name: updateCarInputNameRef.current!.value,\n      color: updateCarInputColorRef.current!.value,\n    };\n    props.updateCarHandler(updatedCar);\n    //clear inputs\n    props.onUpdatingControlsChange({ id: -1, name: '', color: '#000000' });\n    setUpdatingCar({ id: -1, name: '', color: '#000000' });\n  };\n\n  const handleNameChange = (e: React.FormEvent<HTMLInputElement>) => {\n    props.onUpdatingControlsChange({ ...updatingCar, name: updateCarInputNameRef.current!.value });\n    setUpdatingCar((prevCar) => ({ ...prevCar, name: updateCarInputNameRef.current!.value }));\n  };\n\n  const handleColorChange = (e: React.FormEvent<HTMLInputElement>) => {\n    props.onUpdatingControlsChange({ ...updatingCar, color: updateCarInputColorRef.current!.value });\n    setUpdatingCar((prevCar) => ({ ...prevCar, color: updateCarInputColorRef.current!.value }));\n  };\n\n  const handleStart = () => {\n    setIsRaceStarted(true);\n    props.onStartRace();\n  };\n\n  const handleReset = () => {\n    setIsRaceStarted(false);\n    props.onResetRace();\n  };\n\n  return (\n    <section className={classes.garageControls}>\n      <form name='create-car-form' onSubmit={handleCreateSubmit} ref={createCarFormRef}>\n        <input type='text' ref={createCarInputNameRef} />\n        <input type='color' ref={createCarInputColorRef} />\n        <button>Create</button>\n      </form>\n\n      <form name='update-car-form' onSubmit={handleUpdateSubmit}>\n        <input\n          disabled={props.updatingCar.id < 0 ? true : false}\n          type='text'\n          ref={updateCarInputNameRef}\n          value={updatingCar.name}\n          onChange={handleNameChange}\n        />\n        <input\n          disabled={props.updatingCar.id < 0 ? true : false}\n          type='color'\n          ref={updateCarInputColorRef}\n          value={updatingCar.color}\n          onChange={handleColorChange}\n        />\n        <button disabled={props.updatingCar.id < 0 ? true : false}>Update</button>\n      </form>\n\n      <div>\n        <button onClick={handleStart} disabled={isRaceStarted}>\n          Race\n        </button>\n        <button onClick={handleReset} disabled={!props.isRaceEnded}>\n          Reset\n        </button>\n        <button onClick={props.onGenerateCars}>Generate Cars</button>\n      </div>\n    </section>\n  );\n};\n\nexport default GarageControls;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}