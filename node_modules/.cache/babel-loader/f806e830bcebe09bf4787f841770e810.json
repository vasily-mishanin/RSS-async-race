{"ast":null,"code":"var _jsxFileName = \"/Users/vasmish/Coding/rollingScopesRSS/async-race/RSS-async-race/src/components/WinnersTable.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport classes from '../components/WinnersTable.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WinnersTable = props => {\n  _s();\n\n  var _props$sortConfig, _props$sortConfig2;\n\n  const [winners, setWinners] = useState([]);\n  console.log('WinnersTable', (_props$sortConfig = props.sortConfig) === null || _props$sortConfig === void 0 ? void 0 : _props$sortConfig.key, (_props$sortConfig2 = props.sortConfig) === null || _props$sortConfig2 === void 0 ? void 0 : _props$sortConfig2.order);\n  useEffect(() => {\n    setWinners(joinCarsAndWinners(props.winners, props.cars));\n  }, [props]);\n\n  const joinCarsAndWinners = (winners, cars) => {\n    const assembledWinners = winners.map(winner => ({ ...winner,\n      ...cars.find(car => car.id === winner.id)\n    }));\n    return assembledWinners;\n  };\n\n  const sortBadge = key => {\n    var _props$sortConfig3;\n\n    if (((_props$sortConfig3 = props.sortConfig) === null || _props$sortConfig3 === void 0 ? void 0 : _props$sortConfig3.key) === key) {\n      var _props$sortConfig4;\n\n      return ((_props$sortConfig4 = props.sortConfig) === null || _props$sortConfig4 === void 0 ? void 0 : _props$sortConfig4.order) === 'ASC' ? '↑' : '↓';\n    } else {\n      return '';\n    }\n  };\n\n  console.log(winners);\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          className: classes.number,\n          children: \"Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Car\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: classes.name,\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: classes.wins,\n          onClick: () => props.requestSort('wins'),\n          children: [\"Wins \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.sortBadge,\n            children: `${sortBadge('wins')}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: classes.time,\n          onClick: () => props.requestSort('time'),\n          children: [\"Best time (sec) \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.sortBadge,\n            children: `${sortBadge('time')}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), winners.map((winner, ind) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: ind + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.carImage,\n          style: {\n            fill: winner.color\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            x: \"0px\",\n            y: \"0px\",\n            viewBox: \"0 0 47.032 47.032\",\n            children: /*#__PURE__*/_jsxDEV(\"g\", {\n              transform: \"rotate(90 22 25) translate(-15)\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M29.395,0H17.636c-3.117,0-5.643,3.467-5.643,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759 c3.116,0,5.644-2.527,5.644-5.644V6.584C35.037,3.467,32.511,0,29.395,0z M34.05,14.188v11.665l-2.729,0.351v-4.806L34.05,14.188z M32.618,10.773c-1.016,3.9-2.219,8.51-2.219,8.51H16.631l-2.222-8.51C14.41,10.773,23.293,7.755,32.618,10.773z M15.741,21.713 v4.492l-2.73-0.349V14.502L15.741,21.713z M13.011,37.938V27.579l2.73,0.343v8.196L13.011,37.938z M14.568,40.882l2.218-3.336 h13.771l2.219,3.336H14.568z M31.321,35.805v-7.872l2.729-0.355v10.048L31.321,35.805z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: winner.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: winner.wins\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: (winner.time / 1000).toFixed(2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, ind, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WinnersTable, \"vIIsh8jOFIYcYfL6xKcTgQO2TgM=\");\n\n_c = WinnersTable;\nexport default WinnersTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"WinnersTable\");","map":{"version":3,"names":["React","useEffect","useState","classes","WinnersTable","props","winners","setWinners","console","log","sortConfig","key","order","joinCarsAndWinners","cars","assembledWinners","map","winner","find","car","id","sortBadge","number","name","wins","requestSort","time","ind","carImage","fill","color","toFixed"],"sources":["/Users/vasmish/Coding/rollingScopesRSS/async-race/RSS-async-race/src/components/WinnersTable.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Car, { Winner } from '../model/Car';\nimport classes from '../components/WinnersTable.module.css';\n\ntype TSortConfig = {\n  key: 'id' | 'wins' | 'time';\n  order: 'ASC' | 'DESC';\n} | null;\n\ntype TWinnerView = {\n  name?: string | undefined;\n  color?: string | undefined;\n  id: number;\n  wins: number;\n  time: number;\n};\n\ntype TWinnersTableProps = {\n  winners: Winner[];\n  cars: Car[];\n  sortConfig: TSortConfig;\n  requestSort: (key: 'id' | 'wins' | 'time') => void;\n};\n\nconst WinnersTable: React.FC<TWinnersTableProps> = (props) => {\n  const [winners, setWinners] = useState<TWinnerView[]>([]);\n\n  console.log('WinnersTable', props.sortConfig?.key, props.sortConfig?.order);\n\n  useEffect(() => {\n    setWinners(joinCarsAndWinners(props.winners, props.cars));\n  }, [props]);\n\n  const joinCarsAndWinners = (winners: Winner[], cars: Car[]) => {\n    const assembledWinners = winners.map((winner) => ({\n      ...winner,\n      ...cars.find((car) => car.id === winner.id),\n    }));\n    return assembledWinners;\n  };\n\n  const sortBadge = (key: string) => {\n    if (props.sortConfig?.key === key) {\n      return props.sortConfig?.order === 'ASC' ? '↑' : '↓';\n    } else {\n      return '';\n    }\n  };\n\n  console.log(winners);\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th className={classes.number}>Number</th>\n          <th>Car</th>\n          <th className={classes.name}>Name</th>\n          <th className={classes.wins} onClick={() => props.requestSort('wins')}>\n            Wins <span className={classes.sortBadge}>{`${sortBadge('wins')}`}</span>\n          </th>\n          <th className={classes.time} onClick={() => props.requestSort('time')}>\n            Best time (sec) <span className={classes.sortBadge}>{`${sortBadge('time')}`}</span>\n          </th>\n        </tr>\n      </thead>\n      {winners.map((winner, ind) => (\n        <tr key={ind}>\n          <td>{ind + 1}</td>\n          <td>\n            <div className={classes.carImage} style={{ fill: winner.color }}>\n              <svg x='0px' y='0px' viewBox='0 0 47.032 47.032'>\n                <g transform='rotate(90 22 25) translate(-15)'>\n                  <path\n                    d='M29.395,0H17.636c-3.117,0-5.643,3.467-5.643,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759\n\t\tc3.116,0,5.644-2.527,5.644-5.644V6.584C35.037,3.467,32.511,0,29.395,0z M34.05,14.188v11.665l-2.729,0.351v-4.806L34.05,14.188z\n\t\t M32.618,10.773c-1.016,3.9-2.219,8.51-2.219,8.51H16.631l-2.222-8.51C14.41,10.773,23.293,7.755,32.618,10.773z M15.741,21.713\n\t\tv4.492l-2.73-0.349V14.502L15.741,21.713z M13.011,37.938V27.579l2.73,0.343v8.196L13.011,37.938z M14.568,40.882l2.218-3.336\n\t\th13.771l2.219,3.336H14.568z M31.321,35.805v-7.872l2.729-0.355v10.048L31.321,35.805z'\n                  />\n                </g>\n              </svg>\n            </div>\n          </td>\n          <td>{winner.name}</td>\n          <td>{winner.wins}</td>\n          <td>{(winner.time / 1000).toFixed(2)}</td>\n        </tr>\n      ))}\n    </table>\n  );\n};\n\nexport default WinnersTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}